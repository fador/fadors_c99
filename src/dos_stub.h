#ifndef DOS_STUB_H
#define DOS_STUB_H

static const unsigned char dos_stub[] = {
    /* 0x00 */ 0x4D, 0x5A, 0x90, 0x00, 0x03, 0x00, 0x00, 0x00,
    /* 0x08 */ 0x04, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00,
    /* 0x10 */ 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, /* SS=0, SP=0x1000, Csum=0, IP=0 */
    /* 0x18 */ 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, /* CS=0, lfarlc=0x40, ovno=0, res=0 */
    /* 0x20 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    /* 0x28 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    /* 0x30 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    /* 0x38 */ 0x00, 0x00, 0x00, 0x00, /* Reserved */
    /* 0x3C */ 0x80, 0x00, 0x00, 0x00, /* e_lfanew = 0x80 */
    
    /* 0x40 (64) Code Starts */
    0x0E, 0x1F, 0x8C, 0xC8, 0x8E, 0xD0, 
    /* 6-8: XOR ESP, ESP (66 31 E4) */
    0x66, 0x31, 0xE4,
    /* 9-11: MOV SP, 0xFFFE (BC FE FF) */
    0xBC, 0xFE, 0xFF,
    /* 12-14: XOR EBP, EBP (66 31 ED) */
    0x66, 0x31, 0xED,
    /* 15-16: PUSH 0 (6A 00) */
    0x6A, 0x00, 
    /* 17-19: CALL entry (E8 xx xx) */
    0xE8, 0x00, 0x00, 
    /* 20-23: EXIT (B4 4C CD 21) */
    0xB4, 0x4C, 0xCD, 0x21
};
#endif
